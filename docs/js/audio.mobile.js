import{progressNow,playBtnControl}from"./ui.mobile.js";globalThis.audioElement=new Audio;let times=0;function audio(file,trackCtl=!1){1<times&&(times=0,audioElement.pause(),URL.revokeObjectURL(audioElement.src),clearInterval(progressInterval),clearInterval(progressBarInterval),audioElement.removeAttribute("src")),(async()=>{times+=1,URL.revokeObjectURL(audioElement.src),audioElement.removeAttribute("src");try{var blob=new Blob([await file.arrayBuffer()],{type:file.type});audioElement.crossOrigin="anonymous",audioElement.src=URL.createObjectURL(blob),audioElement.autoplay=!0,audioElement.load(),!0===trackCtl?progressNow(audioElement,times,!0):progressNow(audioElement,times)}catch(error){console.log(error)}})()}export default audio;