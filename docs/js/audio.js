import{progressNow,playBtnControl}from"./ui.js";globalThis.audioElement=new Audio;let times=0;function audio(file,trackCtl=!1){1<times&&(times=0,audioElement.pause(),URL.revokeObjectURL(audioElement.src),clearInterval(progressInterval),clearInterval(progressBarInterval),audioElement.src=""),(async()=>{times+=1,URL.revokeObjectURL(audioElement.src);try{var blob=new Blob([await file.arrayBuffer()],{type:file.type});audioElement.crossOrigin="anonymous",audioElement.src=URL.createObjectURL(blob),trackCtl?(progressNow(audioElement,times,!0),playBtnControl(audioElement,!0)):progressNow(audioElement,times)}catch(error){console.log(error)}})()}export default audio;